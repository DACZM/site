<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>DAC</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Segoe UI,Arial;background:black;color:white}
body::before{
content:"";position:fixed;inset:0;
background:url("https://i.pinimg.com/originals/43/0d/54/430d54fac0b2ecfaf435cf5d65979a41.gif")
center/contain no-repeat;z-index:-1}
.page{min-height:100vh;display:flex;justify-content:center;padding:30px 14px}
.container{
max-width:460px;width:100%;
background:rgba(0,0,0,.75);
backdrop-filter:blur(8px);
border-radius:28px;
padding:32px 22px;text-align:center}
.link{display:block;background:white;color:black;
padding:15px;margin:12px 0;border-radius:18px;
font-weight:600;text-decoration:none}
.stats{font-size:11px;opacity:.6}
.search{width:100%;padding:14px;border-radius:16px;border:none;margin-bottom:18px}
.category{margin:30px 0 14px;font-size:13px;letter-spacing:2px;opacity:.7}
.popular::after{content:"ğŸ”¥ Popular";float:right;font-size:11px;opacity:.7}
</style>
</head>

<body>
<div class="page">
<div class="container">

<h1>DAC</h1>
<div id="visits">ğŸ‘ï¸ Cargandoâ€¦</div>

<input class="search" placeholder="ğŸ” Buscar" onkeyup="filterLinks(this.value)">

<div class="category">ğŸ”¥ Populares</div>
<a href="https://flixer.sh" class="link popular" data-id="flixer">Flixer<div class="stats"></div></a>
<a href="https://steamrip.com" class="link popular" data-id="steamrip">SteamRip<div class="stats"></div></a>

<div class="category">ğŸ´ Streaming</div>
<a href="https://cuevana3.eu" class="link" data-id="cuevana">Cuevana<div class="stats"></div></a>

</div>
</div>

<script>
/* ===== FIREBASE CONFIG (CAMBIA ESTO) ===== */
firebase.initializeApp({
  apiKey: "TU_API_KEY",
  authDomain: "TU_DOMINIO.firebaseapp.com",
  projectId: "TU_PROJECT_ID"
});
const db = firebase.firestore();

/* ===== VISITAS GLOBALES ===== */
const visitsRef = db.collection("stats").doc("visits");
visitsRef.get().then(doc=>{
  let v = doc.exists ? doc.data().count+1 : 1;
  visitsRef.set({count:v});
  document.getElementById("visits").innerText="ğŸ‘ï¸ "+v+" visitas";
});

/* ===== CLICS POR LINK ===== */
document.querySelectorAll(".link").forEach(link=>{
  const id = link.dataset.id;
  const ref = db.collection("stats").doc(id);

  ref.onSnapshot(snap=>{
    let c = snap.exists ? snap.data().count : 0;
    link.querySelector(".stats").innerText="ğŸ‘† "+c+" clics";
  });

  link.addEventListener("click",()=>{
    ref.get().then(d=>{
      let c = d.exists ? d.data().count+1 : 1;
      ref.set({count:c});
    });
  });
});

/* ===== BUSCADOR ===== */
function filterLinks(t){
 t=t.toLowerCase();
 document.querySelectorAll(".link").forEach(l=>{
  l.style.display=l.innerText.toLowerCase().includes(t)?"block":"none";
 });
}
</script>

</body>
</html>
